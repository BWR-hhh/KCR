pip install flashrag


parser.add_argument("--generator", type=str, default="llama3-8B-instruct") 
parser.add_argument("--retriever", type=str, default="e5") 
parser.add_argument("--prompt_mode", type=str, default="rag")  # "naive", "kbllm", "rag"
parser.add_argument("--gpu", type=str, default="3") 
parser.add_argument("--stream_round", type=int, default=1) 
parser.add_argument("--dataset", type=str, default="webnlg")  # simpleqa webnlg
parser.add_argument("--qu_mode", type=int, default=0) 
parser.add_argument("--kb_mode", type=int, default=2) 


Total: {'em': 0.8596256684491979, 'f1': 0.8596256684491979, 'acc': 0.8596256684491979}
['Airport'] {'em': 0.2077922077922078, 'f1': 0.2077922077922078, 'acc': 0.2077922077922078}
Others {'em': 0.9344262295081968, 'f1': 0.9344262295081968, 'acc': 0.9344262295081968}

Total: {'em': 0.8776737967914439, 'f1': 0.8776737967914439, 'acc': 0.8776737967914439}
['Artist'] {'em': 0.29310344827586204, 'f1': 0.29310344827586204, 'acc': 0.29310344827586204}
Others {'em': 0.9268115942028986, 'f1': 0.9268115942028986, 'acc': 0.9268115942028986}

Total: {'em': 0.9418449197860963, 'f1': 0.9418449197860963, 'acc': 0.9418449197860963}
['Astronaut'] {'em': 0.37037037037037035, 'f1': 0.37037037037037035, 'acc': 0.37037037037037035}
Others {'em': 0.963245492371706, 'f1': 0.963245492371706, 'acc': 0.963245492371706}

Total: {'em': 0.9030748663101604, 'f1': 0.9034568372803667, 'acc': 0.9030748663101604}
['Building'] {'em': 0.38461538461538464, 'f1': 0.38461538461538464, 'acc': 0.38461538461538464}
Others {'em': 0.9524158125915081, 'f1': 0.9528341351181762, 'acc': 0.9524158125915081}

Total: {'em': 0.9278074866310161, 'f1': 0.9280621339444868, 'acc': 0.928475935828877}
['CelestialBody'] {'em': 0.3813559322033898, 'f1': 0.3813559322033898, 'acc': 0.3813559322033898}
Others {'em': 0.974600870827286, 'f1': 0.9748773239339277, 'acc': 0.9753265602322206}

Total: {'em': 0.891042780748663, 'f1': 0.8911382734912147, 'acc': 0.891042780748663}
['ComicsCharacter'] {'em': 0.24444444444444444, 'f1': 0.24444444444444444, 'acc': 0.24444444444444444}
Others {'em': 0.9110957960027567, 'f1': 0.9111942502707492, 'acc': 0.9110957960027567}

Total: {'em': 0.9077540106951871, 'f1': 0.9077540106951871, 'acc': 0.9077540106951871}
['Food'] {'em': 0.2845528455284553, 'f1': 0.2845528455284553, 'acc': 0.2845528455284553}
Others {'em': 0.9635833940276766, 'f1': 0.9635833940276766, 'acc': 0.9635833940276766}

Total: {'em': 0.7954545454545454, 'f1': 0.7954545454545454, 'acc': 0.7954545454545454}
['MeanOfTransportation'] {'em': 0.16774193548387098, 'f1': 0.16774193548387098, 'acc': 0.16774193548387098}
Others {'em': 0.8680089485458613, 'f1': 0.8680089485458613, 'acc': 0.8680089485458613}

Total: {'em': 0.9237967914438503, 'f1': 0.9237967914438503, 'acc': 0.9237967914438503}
['Monument'] {'em': 0.3225806451612903, 'f1': 0.3225806451612903, 'acc': 0.3225806451612903}
Others {'em': 0.936518771331058, 'f1': 0.936518771331058, 'acc': 0.936518771331058}

Total: {'em': 0.7881016042780749, 'f1': 0.7881758764111705, 'acc': 0.7881016042780749}
['Politician'] {'em': 0.17763157894736842, 'f1': 0.1783625730994152, 'acc': 0.17763157894736842}
Others {'em': 0.8571428571428571, 'f1': 0.8571428571428571, 'acc': 0.8571428571428571}

Total: {'em': 0.8368983957219251, 'f1': 0.8368983957219251, 'acc': 0.8368983957219251}
['Sports'] {'em': 0.3565217391304348, 'f1': 0.3565217391304348, 'acc': 0.3565217391304348}
Others {'em': 0.9241706161137441, 'f1': 0.9241706161137441, 'acc': 0.9241706161137441}

Total: {'em': 0.9324866310160428, 'f1': 0.9326776165011459, 'acc': 0.9324866310160428}
['University'] {'em': 0.30434782608695654, 'f1': 0.3105590062111801, 'acc': 0.30434782608695654}
Others {'em': 0.9524137931034483, 'f1': 0.9524137931034483, 'acc': 0.9524137931034483}

Total: {'em': 0.7600267379679144, 'f1': 0.7601996933547737, 'acc': 0.7600267379679144}
['WrittenWork'] {'em': 0.11971830985915492, 'f1': 0.11971830985915492, 'acc': 0.11971830985915492}
Others {'em': 0.827178729689808, 'f1': 0.8273698236770616, 'acc': 0.827178729689808}





parser.add_argument("--generator", type=str, default="llama3-8B-instruct") 
parser.add_argument("--retriever", type=str, default="e5") 
parser.add_argument("--prompt_mode", type=str, default="rag")  # "naive", "kbllm", "rag"
parser.add_argument("--gpu", type=str, default="3") 
parser.add_argument("--stream_round", type=int, default=1) 
parser.add_argument("--dataset", type=str, default="simpleqa")  # simpleqa webnlg
parser.add_argument("--qu_mode", type=int, default=0) 
parser.add_argument("--kb_mode", type=int, default=2) 

Total: {'em': 0.8381843381843381, 'f1': 0.8388496700565666, 'acc': 0.8395703395703396}
['Science and technology'] {'em': 0.38286713286713286, 'f1': 0.38550725136932035, 'acc': 0.38986013986013984}
Others {'em': 0.9507346585998271, 'f1': 0.9509118409680207, 'acc': 0.9507346585998271}

Total: {'em': 0.9019404019404019, 'f1': 0.9019789019789021, 'acc': 0.9019404019404019}
['Geography'] {'em': 0.43109540636042404, 'f1': 0.43109540636042404, 'acc': 0.43109540636042404}
Others {'em': 0.9531310026892048, 'f1': 0.9531736884791053, 'acc': 0.9531310026892048}

Total: {'em': 0.9400554400554401, 'f1': 0.9400554400554401, 'acc': 0.9400554400554401}
['Sports'] {'em': 0.44308943089430897, 'f1': 0.44308943089430897, 'acc': 0.44308943089430897}
Others {'em': 0.9863636363636363, 'f1': 0.9863636363636363, 'acc': 0.9863636363636363}

Total: {'em': 0.8995148995148995, 'f1': 0.8996138996138996, 'acc': 0.8998613998613999}
['Art'] {'em': 0.4114441416893733, 'f1': 0.4114441416893733, 'acc': 0.4114441416893733}
Others {'em': 0.9706232631996824, 'f1': 0.9707366868938921, 'acc': 0.9710202461294164}

Total: {'em': 0.8738738738738738, 'f1': 0.8750199285803001, 'acc': 0.8752598752598753}
['Politics'] {'em': 0.4067796610169492, 'f1': 0.40862412761714856, 'acc': 0.4110169491525424}
Others {'em': 0.9652029826014913, 'f1': 0.9662124795556968, 'acc': 0.9660314830157415}

Total: {'em': 0.8970893970893971, 'f1': 0.8974474474474476, 'acc': 0.8970893970893971}
['Other'] {'em': 0.47003154574132494, 'f1': 0.4706624605678233, 'acc': 0.47003154574132494}
Others {'em': 0.9497859089139743, 'f1': 0.9501102893473466, 'acc': 0.9497859089139743}

Total: {'em': 0.9216909216909217, 'f1': 0.921926046926047, 'acc': 0.9216909216909217}
['TV shows'] {'em': 0.32653061224489793, 'f1': 0.3299927113702624, 'acc': 0.32653061224489793}
Others {'em': 0.9650557620817843, 'f1': 0.9650557620817843, 'acc': 0.9650557620817843}

Total: {'em': 0.9251559251559252, 'f1': 0.9255629805629804, 'acc': 0.9255024255024255}
['Music'] {'em': 0.40789473684210525, 'f1': 0.4112781954887218, 'acc': 0.40789473684210525}
Others {'em': 0.9695259593679458, 'f1': 0.9696777025332329, 'acc': 0.9699021820917983}

Total: {'em': 0.9251559251559252, 'f1': 0.9257051873718539, 'acc': 0.9261954261954262}
['History'] {'em': 0.45217391304347826, 'f1': 0.45217391304347826, 'acc': 0.45217391304347826}
Others {'em': 0.9447852760736196, 'f1': 0.9453573333652727, 'acc': 0.945867917719235}

Total: {'em': 0.9667359667359667, 'f1': 0.9668052668052668, 'acc': 0.9667359667359667}
['Video games'] {'em': 0.4222222222222222, 'f1': 0.42444444444444446, 'acc': 0.4222222222222222}
Others {'em': 0.9842632331902719, 'f1': 0.9842632331902719, 'acc': 0.9842632331902719}